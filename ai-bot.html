<script>
function callGeminiAPI(userMessage) {
    var apiKey = "AIzaSyBFXFQEVLCL53jeiY2Qo3d6ZxTCUpExmd0"; // حط المفتاح هنا بدون تشفير

    fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=" + apiKey, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            contents: [{ parts: [{ text: userMessage }] }]
        })
    })
    .then(response => response.json())
    .then(data => {
        console.log("🤖 رد الذكاء الاصطناعي:", data);
        document.getElementById("chat-box").innerHTML += `<p>🤖 ${data.candidates[0].content.parts[0].text}</p>`;
    })
    .catch(error => console.error("❌ خطأ في الطلب:", error));
}
</script>
