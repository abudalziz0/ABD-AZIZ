<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script>
function decryptAPIKey() {
    var encryptedKey = "U2FsdGVkX1+7d82ulNS3MPK43tqZ6/+40bSVGlN9Xdv5FWT3xbZhAD6CeSQGCae4JoaveunDsMHP81HK5jxffg==";
    var passphrase = "U2FsdGVkX1+7d82ulNS3MPK43tqZ6/+40bSVGlN9Xdv5FWT3xbZhAD6CeSQGCae4
JoaveunDsMHP81HK5jxffg=="; // Ù†ÙØ³ Ø§Ù„Ø¨Ø§Ø³ÙˆÙˆØ±Ø¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„ØªØ´ÙÙŠØ±

    try {
        var bytes = CryptoJS.AES.decrypt(encryptedKey, passphrase);
        var apiKey = bytes.toString(CryptoJS.enc.Utf8);
        if (!apiKey) throw "âŒ Ø®Ø·Ø£ ÙÙŠ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±!";
        console.log("âœ… Ù…ÙØªØ§Ø­ API Ø§Ù„Ù…ÙÙƒÙˆÙƒ:", apiKey);
        return apiKey;
    } catch (error) {
        console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±!", error);
        return null;
    }
}

function callGeminiAPI(userMessage) {
    var apiKey = decryptAPIKey();
    if (!apiKey) {
        console.log("âŒ Ø§Ù„Ù…ÙØªØ§Ø­ ØºÙŠØ± Ù…ØªÙˆÙØ±!");
        return;
    }

    fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=" + apiKey, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
            contents: [{ parts: [{ text: userMessage }] }]
        })
    })
    .then(response => response.json())
    .then(data => {
        console.log("ğŸ¤– Ø±Ø¯ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ:", data);
        document.getElementById("chat-box").innerHTML += `<p>ğŸ¤– ${data.candidates[0].content.parts[0].text}</p>`;
    })
    .catch(error => console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø·Ù„Ø¨:", error));
}
</script>
